"use strict";(self.webpackChunkrc_hooks=self.webpackChunkrc_hooks||[]).push([[1244],{51466:function(c,t,e){var r;e.r(t),e.d(t,{demos:function(){return C}});var y=e(90228),s=e.n(y),x=e(87999),I=e.n(x),a=e(75271),u=e(92119),f=e(45078),d=e(90674),g=e.n(d),l=e(15076),h=e(70098),P=e(32961),M=e(41313),A=e(4318),D=e(6442),O=e(52223),C={"src-use-async-demo-default":{component:a.memo(a.lazy(function(){return Promise.all([e.e(4677),e.e(7456),e.e(6714),e.e(976),e.e(2433)]).then(e.bind(e,51776))})),asset:{type:"BLOCK",id:"src-use-async-demo-default",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(61499).Z},react:{type:"NPM",value:"18.3.1"},"rc-hooks":{type:"NPM",value:"3.0.23"},"./services/getUsername.ts":{type:"FILE",value:e(74409).Z},mockjs:{type:"NPM",value:"1.1.0"},ut2:{type:"NPM",value:"1.20.1"}},entry:"index.tsx"},context:{"./services/getUsername.ts":f,react:r||(r=e.t(a,2)),"rc-hooks":u,"/home/runner/work/rc-hooks/rc-hooks/src/useAsync/demos/services/getUsername.ts":f,mockjs:d,ut2:l},renderOpts:{compile:function(){var m=I()(s()().mark(function p(){var o,v=arguments;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(7390).then(e.bind(e,67390));case 2:return n.abrupt("return",(o=n.sent).default.apply(o,v));case 3:case"end":return n.stop()}},p)}));function i(){return m.apply(this,arguments)}return i}()}},"src-use-async-demo-autorun":{component:a.memo(a.lazy(function(){return Promise.all([e.e(4677),e.e(7456),e.e(6714),e.e(976),e.e(2433)]).then(e.bind(e,40470))})),asset:{type:"BLOCK",id:"src-use-async-demo-autorun",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(28009).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.26.6"},"rc-hooks":{type:"NPM",value:"3.0.23"},"./services/changeUsername.ts":{type:"FILE",value:e(24603).Z},ut2:{type:"NPM",value:"1.20.1"}},entry:"index.tsx"},context:{"./services/changeUsername.ts":P,react:r||(r=e.t(a,2)),antd:h,"rc-hooks":u,"/home/runner/work/rc-hooks/rc-hooks/src/useAsync/demos/services/changeUsername.ts":P,ut2:l},renderOpts:{compile:function(){var m=I()(s()().mark(function p(){var o,v=arguments;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(7390).then(e.bind(e,67390));case 2:return n.abrupt("return",(o=n.sent).default.apply(o,v));case 3:case"end":return n.stop()}},p)}));function i(){return m.apply(this,arguments)}return i}()}},"src-use-async-demo-preload":{component:a.memo(a.lazy(function(){return Promise.all([e.e(4677),e.e(7456),e.e(6714),e.e(976),e.e(2433)]).then(e.bind(e,7402))})),asset:{type:"BLOCK",id:"src-use-async-demo-preload",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(68811).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.26.6"},"rc-hooks":{type:"NPM",value:"3.0.23"},"./services/getArticle.ts":{type:"FILE",value:e(66390).Z},mockjs:{type:"NPM",value:"1.1.0"},ut2:{type:"NPM",value:"1.20.1"}},entry:"index.tsx"},context:{"./services/getArticle.ts":M,react:r||(r=e.t(a,2)),antd:h,"rc-hooks":u,"/home/runner/work/rc-hooks/rc-hooks/src/useAsync/demos/services/getArticle.ts":M,mockjs:d,ut2:l},renderOpts:{compile:function(){var m=I()(s()().mark(function p(){var o,v=arguments;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(7390).then(e.bind(e,67390));case 2:return n.abrupt("return",(o=n.sent).default.apply(o,v));case 3:case"end":return n.stop()}},p)}));function i(){return m.apply(this,arguments)}return i}()}},"src-use-async-demo-clearcache":{component:a.memo(a.lazy(function(){return Promise.all([e.e(4677),e.e(7456),e.e(6714),e.e(976),e.e(2433)]).then(e.bind(e,25187))})),asset:{type:"BLOCK",id:"src-use-async-demo-clearcache",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(46267).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.26.6"},"rc-hooks":{type:"NPM",value:"3.0.23"},"./services/getArticle.ts":{type:"FILE",value:e(66390).Z},mockjs:{type:"NPM",value:"1.1.0"},ut2:{type:"NPM",value:"1.20.1"}},entry:"index.tsx"},context:{"./services/getArticle.ts":M,react:r||(r=e.t(a,2)),antd:h,"rc-hooks":u,"/home/runner/work/rc-hooks/rc-hooks/src/useAsync/demos/services/getArticle.ts":M,mockjs:d,ut2:l},renderOpts:{compile:function(){var m=I()(s()().mark(function p(){var o,v=arguments;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(7390).then(e.bind(e,67390));case 2:return n.abrupt("return",(o=n.sent).default.apply(o,v));case 3:case"end":return n.stop()}},p)}));function i(){return m.apply(this,arguments)}return i}()}},"src-use-async-demo-persisted":{component:a.memo(a.lazy(function(){return Promise.all([e.e(4677),e.e(7456),e.e(6714),e.e(976),e.e(2433)]).then(e.bind(e,65267))})),asset:{type:"BLOCK",id:"src-use-async-demo-persisted",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(65388).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.26.6"},"rc-hooks":{type:"NPM",value:"3.0.23"},"./services/getArticle.ts":{type:"FILE",value:e(66390).Z},mockjs:{type:"NPM",value:"1.1.0"},ut2:{type:"NPM",value:"1.20.1"}},entry:"index.tsx"},context:{"./services/getArticle.ts":M,react:r||(r=e.t(a,2)),antd:h,"rc-hooks":u,"/home/runner/work/rc-hooks/rc-hooks/src/useAsync/demos/services/getArticle.ts":M,mockjs:d,ut2:l},renderOpts:{compile:function(){var m=I()(s()().mark(function p(){var o,v=arguments;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(7390).then(e.bind(e,67390));case 2:return n.abrupt("return",(o=n.sent).default.apply(o,v));case 3:case"end":return n.stop()}},p)}));function i(){return m.apply(this,arguments)}return i}()}},"src-use-async-demo-cachekey":{component:a.memo(a.lazy(function(){return Promise.all([e.e(4677),e.e(7456),e.e(6714),e.e(976),e.e(2433)]).then(e.bind(e,11199))})),asset:{type:"BLOCK",id:"src-use-async-demo-cachekey",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(19566).Z},react:{type:"NPM",value:"18.3.1"},ut2:{type:"NPM",value:"1.20.1"},"rc-hooks":{type:"NPM",value:"3.0.23"},"./services/getArticle.ts":{type:"FILE",value:e(66390).Z},mockjs:{type:"NPM",value:"1.1.0"}},entry:"index.tsx"},context:{"./services/getArticle.ts":M,react:r||(r=e.t(a,2)),ut2:l,"rc-hooks":u,"/home/runner/work/rc-hooks/rc-hooks/src/useAsync/demos/services/getArticle.ts":M,mockjs:d},renderOpts:{compile:function(){var m=I()(s()().mark(function p(){var o,v=arguments;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(7390).then(e.bind(e,67390));case 2:return n.abrupt("return",(o=n.sent).default.apply(o,v));case 3:case"end":return n.stop()}},p)}));function i(){return m.apply(this,arguments)}return i}()}},"src-use-async-demo-refreshonwindowfocus":{component:a.memo(a.lazy(function(){return Promise.all([e.e(4677),e.e(7456),e.e(6714),e.e(976),e.e(2433)]).then(e.bind(e,36797))})),asset:{type:"BLOCK",id:"src-use-async-demo-refreshonwindowfocus",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(91268).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.26.6"},"rc-hooks":{type:"NPM",value:"3.0.23"},"./services/getUsername.ts":{type:"FILE",value:e(74409).Z},mockjs:{type:"NPM",value:"1.1.0"},ut2:{type:"NPM",value:"1.20.1"}},entry:"index.tsx"},context:{"./services/getUsername.ts":f,react:r||(r=e.t(a,2)),antd:h,"rc-hooks":u,"/home/runner/work/rc-hooks/rc-hooks/src/useAsync/demos/services/getUsername.ts":f,mockjs:d,ut2:l},renderOpts:{compile:function(){var m=I()(s()().mark(function p(){var o,v=arguments;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(7390).then(e.bind(e,67390));case 2:return n.abrupt("return",(o=n.sent).default.apply(o,v));case 3:case"end":return n.stop()}},p)}));function i(){return m.apply(this,arguments)}return i}()}},"src-use-async-demo-pollinginterval":{component:a.memo(a.lazy(function(){return Promise.all([e.e(4677),e.e(7456),e.e(6714),e.e(976),e.e(2433)]).then(e.bind(e,32439))})),asset:{type:"BLOCK",id:"src-use-async-demo-pollinginterval",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(98221).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.26.6"},"rc-hooks":{type:"NPM",value:"3.0.23"},"./services/getUsername.ts":{type:"FILE",value:e(74409).Z},mockjs:{type:"NPM",value:"1.1.0"},ut2:{type:"NPM",value:"1.20.1"}},entry:"index.tsx"},context:{"./services/getUsername.ts":f,react:r||(r=e.t(a,2)),antd:h,"rc-hooks":u,"/home/runner/work/rc-hooks/rc-hooks/src/useAsync/demos/services/getUsername.ts":f,mockjs:d,ut2:l},renderOpts:{compile:function(){var m=I()(s()().mark(function p(){var o,v=arguments;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(7390).then(e.bind(e,67390));case 2:return n.abrupt("return",(o=n.sent).default.apply(o,v));case 3:case"end":return n.stop()}},p)}));function i(){return m.apply(this,arguments)}return i}()}},"src-use-async-demo-debounceinterval":{component:a.memo(a.lazy(function(){return Promise.all([e.e(4677),e.e(7456),e.e(6714),e.e(976),e.e(2433)]).then(e.bind(e,12696))})),asset:{type:"BLOCK",id:"src-use-async-demo-debounceinterval",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(28110).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.26.6"},"rc-hooks":{type:"NPM",value:"3.0.23"},"./services/getEmail.ts":{type:"FILE",value:e(10263).Z},mockjs:{type:"NPM",value:"1.1.0"},ut2:{type:"NPM",value:"1.20.1"}},entry:"index.tsx"},context:{"./services/getEmail.ts":A,react:r||(r=e.t(a,2)),antd:h,"rc-hooks":u,"/home/runner/work/rc-hooks/rc-hooks/src/useAsync/demos/services/getEmail.ts":A,mockjs:d,ut2:l},renderOpts:{compile:function(){var m=I()(s()().mark(function p(){var o,v=arguments;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(7390).then(e.bind(e,67390));case 2:return n.abrupt("return",(o=n.sent).default.apply(o,v));case 3:case"end":return n.stop()}},p)}));function i(){return m.apply(this,arguments)}return i}()}},"src-use-async-demo-throttleinterval":{component:a.memo(a.lazy(function(){return Promise.all([e.e(4677),e.e(7456),e.e(6714),e.e(976),e.e(2433)]).then(e.bind(e,81645))})),asset:{type:"BLOCK",id:"src-use-async-demo-throttleinterval",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(75533).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.26.6"},"rc-hooks":{type:"NPM",value:"3.0.23"},"./services/getEmail.ts":{type:"FILE",value:e(10263).Z},mockjs:{type:"NPM",value:"1.1.0"},ut2:{type:"NPM",value:"1.20.1"}},entry:"index.tsx"},context:{"./services/getEmail.ts":A,react:r||(r=e.t(a,2)),antd:h,"rc-hooks":u,"/home/runner/work/rc-hooks/rc-hooks/src/useAsync/demos/services/getEmail.ts":A,mockjs:d,ut2:l},renderOpts:{compile:function(){var m=I()(s()().mark(function p(){var o,v=arguments;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(7390).then(e.bind(e,67390));case 2:return n.abrupt("return",(o=n.sent).default.apply(o,v));case 3:case"end":return n.stop()}},p)}));function i(){return m.apply(this,arguments)}return i}()}},"src-use-async-demo-mutate":{component:a.memo(a.lazy(function(){return Promise.all([e.e(4677),e.e(7456),e.e(6714),e.e(976),e.e(2433)]).then(e.bind(e,93338))})),asset:{type:"BLOCK",id:"src-use-async-demo-mutate",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(19122).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.26.6"},"rc-hooks":{type:"NPM",value:"3.0.23"},"./services/getUsername.ts":{type:"FILE",value:e(74409).Z},mockjs:{type:"NPM",value:"1.1.0"},ut2:{type:"NPM",value:"1.20.1"}},entry:"index.tsx"},context:{"./services/getUsername.ts":f,react:r||(r=e.t(a,2)),antd:h,"rc-hooks":u,"/home/runner/work/rc-hooks/rc-hooks/src/useAsync/demos/services/getUsername.ts":f,mockjs:d,ut2:l},renderOpts:{compile:function(){var m=I()(s()().mark(function p(){var o,v=arguments;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(7390).then(e.bind(e,67390));case 2:return n.abrupt("return",(o=n.sent).default.apply(o,v));case 3:case"end":return n.stop()}},p)}));function i(){return m.apply(this,arguments)}return i}()}},"src-use-async-demo-loadingdelay":{component:a.memo(a.lazy(function(){return Promise.all([e.e(4677),e.e(7456),e.e(6714),e.e(976),e.e(2433)]).then(e.bind(e,62430))})),asset:{type:"BLOCK",id:"src-use-async-demo-loadingdelay",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(97304).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.26.6"},"rc-hooks":{type:"NPM",value:"3.0.23"},"./services/getCurrentTime.ts":{type:"FILE",value:e(63308).Z},ut2:{type:"NPM",value:"1.20.1"}},entry:"index.tsx"},context:{"./services/getCurrentTime.ts":D,react:r||(r=e.t(a,2)),antd:h,"rc-hooks":u,"/home/runner/work/rc-hooks/rc-hooks/src/useAsync/demos/services/getCurrentTime.ts":D,ut2:l},renderOpts:{compile:function(){var m=I()(s()().mark(function p(){var o,v=arguments;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(7390).then(e.bind(e,67390));case 2:return n.abrupt("return",(o=n.sent).default.apply(o,v));case 3:case"end":return n.stop()}},p)}));function i(){return m.apply(this,arguments)}return i}()}},"src-use-async-demo-refreshdeps":{component:a.memo(a.lazy(function(){return Promise.all([e.e(4677),e.e(7456),e.e(6714),e.e(976),e.e(2433)]).then(e.bind(e,35290))})),asset:{type:"BLOCK",id:"src-use-async-demo-refreshdeps",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(32734).Z},"rc-hooks":{type:"NPM",value:"3.0.23"},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.26.6"}},entry:"index.tsx"},context:{"rc-hooks":u,react:r||(r=e.t(a,2)),antd:h},renderOpts:{compile:function(){var m=I()(s()().mark(function p(){var o,v=arguments;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(7390).then(e.bind(e,67390));case 2:return n.abrupt("return",(o=n.sent).default.apply(o,v));case 3:case"end":return n.stop()}},p)}));function i(){return m.apply(this,arguments)}return i}()}},"src-use-async-demo-parallel":{component:a.memo(a.lazy(function(){return Promise.all([e.e(4677),e.e(7456),e.e(6714),e.e(976),e.e(2433)]).then(e.bind(e,73293))})),asset:{type:"BLOCK",id:"src-use-async-demo-parallel",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(76737).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.26.6"},"rc-hooks":{type:"NPM",value:"3.0.23"},"./services/deleteUser.ts":{type:"FILE",value:e(58263).Z},ut2:{type:"NPM",value:"1.20.1"}},entry:"index.tsx"},context:{"./services/deleteUser.ts":O,react:r||(r=e.t(a,2)),antd:h,"rc-hooks":u,"/home/runner/work/rc-hooks/rc-hooks/src/useAsync/demos/services/deleteUser.ts":O,ut2:l},renderOpts:{compile:function(){var m=I()(s()().mark(function p(){var o,v=arguments;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(7390).then(e.bind(e,67390));case 2:return n.abrupt("return",(o=n.sent).default.apply(o,v));case 3:case"end":return n.stop()}},p)}));function i(){return m.apply(this,arguments)}return i}()}}}},32961:function(c,t,e){e.r(t),e.d(t,{default:function(){return a}});var r=e(90228),y=e.n(r),s=e(87999),x=e.n(s),I=e(21599);function a(f){return u.apply(this,arguments)}function u(){return u=x()(y()().mark(function f(d){return y()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return console.log(d),l.next=3,(0,I.Z)();case 3:return l.abrupt("return",{success:!0});case 4:case"end":return l.stop()}},f)})),u.apply(this,arguments)}},52223:function(c,t,e){e.r(t),e.d(t,{default:function(){return a}});var r=e(90228),y=e.n(r),s=e(87999),x=e.n(s),I=e(21599);function a(f){return u.apply(this,arguments)}function u(){return u=x()(y()().mark(function f(d){return y()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return console.log(d),l.next=3,(0,I.Z)();case 3:return l.abrupt("return",{success:!0});case 4:case"end":return l.stop()}},f)})),u.apply(this,arguments)}},41313:function(c,t,e){e.r(t),e.d(t,{default:function(){return f}});var r=e(90228),y=e.n(r),s=e(87999),x=e.n(s),I=e(90674),a=e.n(I),u=e(21599);function f(){return d.apply(this,arguments)}function d(){return d=x()(y()().mark(function g(){return y()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,u.Z)();case 2:return h.abrupt("return",{data:a().mock("@paragraph"),time:new Date().getTime()});case 3:case"end":return h.stop()}},g)})),d.apply(this,arguments)}},6442:function(c,t,e){e.r(t),e.d(t,{default:function(){return a}});var r=e(90228),y=e.n(r),s=e(87999),x=e.n(s),I=e(21599);function a(){return u.apply(this,arguments)}function u(){return u=x()(y()().mark(function f(){return y()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,I.Z)();case 2:return g.abrupt("return",new Date().getTime());case 3:case"end":return g.stop()}},f)})),u.apply(this,arguments)}},4318:function(c,t,e){e.r(t),e.d(t,{default:function(){return f}});var r=e(90228),y=e.n(r),s=e(87999),x=e.n(s),I=e(90674),a=e.n(I),u=e(21599);function f(g){return d.apply(this,arguments)}function d(){return d=x()(y()().mark(function g(l){return y()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return console.log(l),P.next=3,(0,u.Z)();case 3:return P.abrupt("return",a().mock({"data|5":["@email"]}).data);case 4:case"end":return P.stop()}},g)})),d.apply(this,arguments)}},45078:function(c,t,e){e.r(t),e.d(t,{default:function(){return f}});var r=e(90228),y=e.n(r),s=e(87999),x=e.n(s),I=e(90674),a=e.n(I),u=e(21599);function f(){return d.apply(this,arguments)}function d(){return d=x()(y()().mark(function g(){return y()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,u.Z)();case 2:return h.abrupt("return",a().mock("@name"));case 3:case"end":return h.stop()}},g)})),d.apply(this,arguments)}},93648:function(c,t,e){e.r(t),e.d(t,{texts:function(){return r}});const r=[{value:"\u7BA1\u7406\u5F02\u6B65\u51FD\u6570\u7684 Hook\u3002",paraId:0,tocIndex:0},{value:"\u81EA\u52A8\u8BF7\u6C42",paraId:1,tocIndex:1},{value:"\u624B\u52A8\u8BF7\u6C42",paraId:1,tocIndex:1},{value:"\u7F13\u5B58 & \u9884\u52A0\u8F7D",paraId:1,tocIndex:1},{value:"\u6301\u4E45\u5316\u6570\u636E",paraId:1,tocIndex:1},{value:"\u5171\u4EAB\u5F02\u6B65",paraId:1,tocIndex:1},{value:"\u5C4F\u5E55\u805A\u7126\u91CD\u65B0\u8BF7\u6C42",paraId:1,tocIndex:1},{value:"\u8F6E\u8BE2",paraId:1,tocIndex:1},{value:"\u9632\u6296",paraId:1,tocIndex:1},{value:"\u8282\u6D41",paraId:1,tocIndex:1},{value:"\u7A81\u53D8",paraId:1,tocIndex:1},{value:"Loading Delay",paraId:1,tocIndex:1},{value:"refreshDeps",paraId:1,tocIndex:1},{value:"\u5E76\u884C\u8BF7\u6C42",paraId:1,tocIndex:1},{value:"\u5206\u9875",paraId:1,tocIndex:1},{value:"\u52A0\u8F7D\u66F4\u591A",paraId:1,tocIndex:1},{value:"...",paraId:1,tocIndex:1},{value:"\u591A\u4E2A\u76F8\u540C ",paraId:2,tocIndex:8},{value:"cacheKey",paraId:2,tocIndex:8},{value:" \u7684\u5F02\u6B65\uFF0C\u540C\u65F6\u89E6\u53D1\u4E2D\uFF0C\u53EA\u4F1A\u6267\u884C\u7B2C\u4E00\u4E2A\uFF0C\u540E\u9762\u6267\u884C\u7684\u5C06\u5171\u4EAB\u7B2C\u4E00\u4E2A\u5F02\u6B65\u6267\u884C\u7684\u7ED3\u679C\u3002",paraId:2,tocIndex:8},{value:"\u5F53\u67D0\u4E9B ",paraId:3,tocIndex:15},{value:"state",paraId:3,tocIndex:15},{value:" \u53D8\u5316\u65F6\uFF0C\u6211\u4EEC\u9700\u8981\u91CD\u65B0\u6267\u884C\u5F02\u6B65\u8BF7\u6C42\uFF0C\u4E00\u822C\u6211\u4EEC\u4F1A\u8FD9\u6837\u5199\u4EE3\u7801\uFF1A",paraId:3,tocIndex:15},{value:`const [userId, setUserId] = useState('1');
const { data, run, loading } = useRequest(() => getUserSchool(userId));
useEffect(() => {
  run();
}, [userId]);
`,paraId:4,tocIndex:15},{value:"refreshDeps",paraId:5,tocIndex:15},{value:" \u662F\u4E00\u4E2A\u8BED\u6CD5\u7CD6\uFF0C\u8BA9\u4F60\u66F4\u65B9\u4FBF\u7684\u5B9E\u73B0\u4E0A\u9762\u7684\u529F\u80FD\u3002\u5F53 ",paraId:5,tocIndex:15},{value:"refreshDeps",paraId:5,tocIndex:15},{value:" \u53D8\u5316\u65F6\uFF0C\u4F1A\u4F7F\u7528\u4E4B\u524D\u7684 ",paraId:5,tocIndex:15},{value:"params",paraId:5,tocIndex:15},{value:" \u91CD\u65B0\u6267\u884C\u3002",paraId:5,tocIndex:15},{value:`const { data, error, loading, params, run, cancel, refresh, mutate } = useAsync<R, P>(asyncFn, {
  autoRun,
  defaultParams,
  refreshDeps,
  onSuccess,
  onError,
  cacheKey,
  cacheTime,
  persisted,
  loadingDelay,
  pollingInterval,
  pollingWhenHidden,
  refreshOnWindowFocus,
  focusTimespan,
  debounceInterval,
  throttleInterval
});
`,paraId:6,tocIndex:17},{value:"\u53C2\u6570",paraId:7,tocIndex:18},{value:"\u8BF4\u660E",paraId:7,tocIndex:18},{value:"\u7C7B\u578B",paraId:7,tocIndex:18},{value:"data",paraId:7,tocIndex:18},{value:"\u5F02\u6B65\u51FD\u6570\u7684\u8FD4\u56DE\u503C\uFF0C\u9ED8\u8BA4\u4E3A ",paraId:7,tocIndex:18},{value:"undefined",paraId:7,tocIndex:18},{value:"\u3002",paraId:7,tocIndex:18},{value:"any",paraId:7,tocIndex:18},{value:"error",paraId:7,tocIndex:18},{value:"\u5F02\u6B65\u51FD\u6570\u629B\u51FA\u7684\u5F02\u5E38\uFF0C\u9ED8\u8BA4\u4E3A ",paraId:7,tocIndex:18},{value:"undefined",paraId:7,tocIndex:18},{value:"Error",paraId:7,tocIndex:18},{value:"loading",paraId:7,tocIndex:18},{value:"\u5F02\u6B65\u51FD\u6570\u6B63\u5728\u6267\u884C",paraId:7,tocIndex:18},{value:"boolean",paraId:7,tocIndex:18},{value:"params",paraId:7,tocIndex:18},{value:"\u6267\u884C\u5F02\u6B65\u51FD\u6570\u7684\u53C2\u6570\u6570\u7EC4\u3002\u6BD4\u5982\u4F60\u89E6\u53D1\u4E86 ",paraId:7,tocIndex:18},{value:"run(1, 2, 3)",paraId:7,tocIndex:18},{value:"\uFF0C\u5219 ",paraId:7,tocIndex:18},{value:"params",paraId:7,tocIndex:18},{value:" \u7B49\u4E8E ",paraId:7,tocIndex:18},{value:"[1, 2, 3]",paraId:7,tocIndex:18},{value:"any[]",paraId:7,tocIndex:18},{value:"run",paraId:7,tocIndex:18},{value:"\u624B\u52A8\u89E6\u53D1\u5F02\u6B65\u51FD\u6570\u3002",paraId:7,tocIndex:18},{value:"debounce",paraId:7,tocIndex:18},{value:" \u6A21\u5F0F\u4E0E ",paraId:7,tocIndex:18},{value:"throttle",paraId:7,tocIndex:18},{value:" \u6A21\u5F0F\u8FD4\u56DE\u503C\u4E3A ",paraId:7,tocIndex:18},{value:"Promise<null>",paraId:7,tocIndex:18},{value:"(...args: P) => Promise<R | null>",paraId:7,tocIndex:18},{value:"cancel",paraId:7,tocIndex:18},{value:"\u53D6\u6D88\u5F53\u524D\u8BF7\u6C42\u3002\u5982\u679C\u6709\u8F6E\u8BE2\uFF0C\u505C\u6B62\u8F6E\u8BE2\u3002",paraId:7,tocIndex:18},{value:"() => void",paraId:7,tocIndex:18},{value:"refresh",paraId:7,tocIndex:18},{value:"\u4F7F\u7528\u4E0A\u4E00\u6B21\u7684 ",paraId:7,tocIndex:18},{value:"params",paraId:7,tocIndex:18},{value:"\uFF0C\u91CD\u65B0\u6267\u884C\u5F02\u6B65\u51FD\u6570\u3002",paraId:7,tocIndex:18},{value:"() => Promise<R | null>",paraId:7,tocIndex:18},{value:"mutate",paraId:7,tocIndex:18},{value:"\u76F4\u63A5\u4FEE\u6539 ",paraId:7,tocIndex:18},{value:"data",paraId:7,tocIndex:18},{value:"(newData: DataType | undefined | ((oldData) => newData)) => void",paraId:7,tocIndex:18},{value:"\u6240\u6709\u914D\u7F6E\u9879\u90FD\u662F\u53EF\u9009\u7684\u3002",paraId:8,tocIndex:19},{value:"\u53C2\u6570",paraId:9,tocIndex:19},{value:"\u8BF4\u660E",paraId:9,tocIndex:19},{value:"\u7C7B\u578B",paraId:9,tocIndex:19},{value:"\u9ED8\u8BA4\u503C",paraId:9,tocIndex:19},{value:"autoRun",paraId:9,tocIndex:19},{value:"\u5728\u521D\u59CB\u5316\u65F6\u81EA\u52A8\u6267\u884C\u5F02\u6B65\u51FD\u6570\u3002\u5982\u679C\u8BBE\u7F6E\u4E3A ",paraId:9,tocIndex:19},{value:"false",paraId:9,tocIndex:19},{value:"\uFF0C\u5219\u9700\u8981\u624B\u52A8\u8C03\u7528 ",paraId:9,tocIndex:19},{value:"run",paraId:9,tocIndex:19},{value:" \u89E6\u53D1\u6267\u884C\u3002",paraId:9,tocIndex:19},{value:"boolean",paraId:9,tocIndex:19},{value:"true",paraId:9,tocIndex:19},{value:"initialData",paraId:9,tocIndex:19},{value:"\u521D\u59CB\u5316\u7684 ",paraId:9,tocIndex:19},{value:"data",paraId:9,tocIndex:19},{value:"\u3002",paraId:9,tocIndex:19},{value:"R",paraId:9,tocIndex:19},{value:"-",paraId:9,tocIndex:19},{value:"defaultLoading",paraId:9,tocIndex:19},{value:"\u521D\u59CB\u5316\u9ED8\u8BA4 ",paraId:9,tocIndex:19},{value:"loading",paraId:9,tocIndex:19},{value:" \u503C\u3002",paraId:9,tocIndex:19},{value:"boolean",paraId:9,tocIndex:19},{value:"\u9ED8\u8BA4\u503C\u7B49\u4E8E ",paraId:9,tocIndex:19},{value:"autoRun && !loadingDelay",paraId:9,tocIndex:19},{value:"defaultParams",paraId:9,tocIndex:19},{value:"\u5982\u679C ",paraId:9,tocIndex:19},{value:"autoRun=true",paraId:9,tocIndex:19},{value:" \u81EA\u52A8\u6267\u884C ",paraId:9,tocIndex:19},{value:"run",paraId:9,tocIndex:19},{value:" \u7684\u9ED8\u8BA4\u53C2\u6570\u3002",paraId:9,tocIndex:19},{value:"any[]",paraId:9,tocIndex:19},{value:"-",paraId:9,tocIndex:19},{value:"refreshDeps",paraId:9,tocIndex:19},{value:"\u5728 ",paraId:9,tocIndex:19},{value:"autoRun = true",paraId:9,tocIndex:19},{value:" \u65F6\uFF0C",paraId:9,tocIndex:19},{value:"refreshDeps",paraId:9,tocIndex:19},{value:" \u53D8\u5316\uFF0C\u4F1A\u89E6\u53D1\u91CD\u65B0\u6267\u884C",paraId:9,tocIndex:19},{value:"any[]",paraId:9,tocIndex:19},{value:"-",paraId:9,tocIndex:19},{value:"onBefore",paraId:9,tocIndex:19},{value:"\u5F02\u6B65\u51FD\u6570\u6267\u884C\u524D\u89E6\u53D1\uFF0C\u53C2\u6570\u4E3A ",paraId:9,tocIndex:19},{value:"params",paraId:9,tocIndex:19},{value:"\u3002",paraId:9,tocIndex:19},{value:"(params) => void",paraId:9,tocIndex:19},{value:"-",paraId:9,tocIndex:19},{value:"onSuccess",paraId:9,tocIndex:19},{value:"\u5F02\u6B65\u51FD\u6570 ",paraId:9,tocIndex:19},{value:"resolve",paraId:9,tocIndex:19},{value:" \u65F6\u89E6\u53D1\uFF0C\u53C2\u6570\u4E3A ",paraId:9,tocIndex:19},{value:"data",paraId:9,tocIndex:19},{value:" \u548C ",paraId:9,tocIndex:19},{value:"params",paraId:9,tocIndex:19},{value:"\u3002",paraId:9,tocIndex:19},{value:"(data, params) => void",paraId:9,tocIndex:19},{value:"-",paraId:9,tocIndex:19},{value:"onError",paraId:9,tocIndex:19},{value:"\u5F02\u6B65\u51FD\u6570\u62A5\u9519\u65F6\u89E6\u53D1\uFF0C\u53C2\u6570\u4E3A ",paraId:9,tocIndex:19},{value:"error",paraId:9,tocIndex:19},{value:" \u548C ",paraId:9,tocIndex:19},{value:"params",paraId:9,tocIndex:19},{value:"\u3002",paraId:9,tocIndex:19},{value:"(error, parmams) => void",paraId:9,tocIndex:19},{value:"-",paraId:9,tocIndex:19},{value:"onFinally",paraId:9,tocIndex:19},{value:"\u5F02\u6B65\u51FD\u6570\u6267\u884C\u5B8C\u6210\u540E\u89E6\u53D1\u3002",paraId:9,tocIndex:19},{value:"() => void",paraId:9,tocIndex:19},{value:"-",paraId:9,tocIndex:19},{value:"cacheKey",paraId:9,tocIndex:19},{value:"\u7F13\u5B58\u7684\u952E\u503C\u3002\u542F\u7528\u7F13\u5B58\u673A\u5236\uFF0C\u5F02\u6B65\u6210\u529F\u7ED3\u679C\u5C06\u88AB\u7F13\u5B58\u3002\u5982\u679C\u591A\u4E2A\u76F8\u540C cacheKey \u7684\u5F02\u6B65\u540C\u65F6\u89E6\u53D1\u4E2D\uFF0C\u5C06\u5171\u4EAB\u7B2C\u4E00\u4E2A\u5F02\u6B65\u7ED3\u679C\u3002",paraId:9,tocIndex:19},{value:"string",paraId:9,tocIndex:19},{value:"-",paraId:9,tocIndex:19},{value:"cacheTime",paraId:9,tocIndex:19},{value:"\u7F13\u5B58\u65F6\u95F4\u3002\u5355\u4F4D\u6BEB\u79D2\u3002",paraId:9,tocIndex:19},{value:"number",paraId:9,tocIndex:19},{value:"5*60*1000",paraId:9,tocIndex:19},{value:"persisted",paraId:9,tocIndex:19},{value:"\u6301\u4E45\u5316\u6570\u636E\u3002\u5F53\u6709\u7F13\u5B58\u6570\u636E\u65F6\uFF0C\u4E0D\u518D\u6267\u884C\u5F02\u6B65\u51FD\u6570\u3002\u9700\u8981\u914D\u5408 ",paraId:9,tocIndex:19},{value:"cacheKey",paraId:9,tocIndex:19},{value:" ",paraId:9,tocIndex:19},{value:"cacheTime",paraId:9,tocIndex:19},{value:" \u4F7F\u7528\u3002",paraId:9,tocIndex:19},{value:"boolean",paraId:9,tocIndex:19},{value:"false",paraId:9,tocIndex:19},{value:"loadingDelay",paraId:9,tocIndex:19},{value:"\u8BBE\u7F6E ",paraId:9,tocIndex:19},{value:"loading",paraId:9,tocIndex:19},{value:" \u5EF6\u8FDF\u65F6\u95F4\uFF0C\u907F\u514D\u95EA\u70C1\uFF0C\u5355\u4F4D\u4E3A\u6BEB\u79D2\u3002",paraId:9,tocIndex:19},{value:"number",paraId:9,tocIndex:19},{value:"-",paraId:9,tocIndex:19},{value:"pollingInterval",paraId:9,tocIndex:19},{value:"\u8F6E\u8BE2\u95F4\u9694\uFF0C\u5355\u4F4D\u4E3A\u6BEB\u79D2\u3002\u8BBE\u7F6E\u540E\uFF0C\u5C06\u8FDB\u5165\u8F6E\u8BE2\u6A21\u5F0F\uFF0C\u5B9A\u65F6\u89E6\u53D1 ",paraId:9,tocIndex:19},{value:"run",paraId:9,tocIndex:19},{value:"\u3002",paraId:9,tocIndex:19},{value:"number",paraId:9,tocIndex:19},{value:"-",paraId:9,tocIndex:19},{value:"pollingWhenHidden",paraId:9,tocIndex:19},{value:"\u5728\u9875\u9762\u9690\u85CF\u65F6\uFF0C\u662F\u5426\u7EE7\u7EED\u8F6E\u8BE2\u3002\u5982\u679C\u4E3A ",paraId:9,tocIndex:19},{value:"true",paraId:9,tocIndex:19},{value:"\uFF0C\u4E0D\u4F1A\u505C\u6B62\u8F6E\u8BE2\u3002\u5982\u679C\u4E3A ",paraId:9,tocIndex:19},{value:"false",paraId:9,tocIndex:19},{value:"\uFF0C\u5728\u9875\u9762\u9690\u85CF\u65F6\u4F1A\u6682\u65F6\u505C\u6B62\u8F6E\u8BE2\uFF0C\u9875\u9762\u91CD\u65B0\u663E\u793A\u65F6\u7EE7\u7EED\u4E0A\u6B21\u8F6E\u8BE2\u3002",paraId:9,tocIndex:19},{value:"boolean",paraId:9,tocIndex:19},{value:"true",paraId:9,tocIndex:19},{value:"refreshOnWindowFocus",paraId:9,tocIndex:19},{value:"\u5728\u5C4F\u5E55\u91CD\u65B0\u83B7\u53D6\u7126\u70B9\u6216\u91CD\u65B0\u663E\u793A\u65F6\uFF0C\u662F\u5426\u91CD\u65B0\u53D1\u8D77\u8BF7\u6C42\u3002\u5982\u679C\u4E3A ",paraId:9,tocIndex:19},{value:"false",paraId:9,tocIndex:19},{value:"\uFF0C\u4E0D\u4F1A\u91CD\u65B0\u53D1\u8D77\u8BF7\u6C42\u3002\u5982\u679C\u4E3A ",paraId:9,tocIndex:19},{value:"true",paraId:9,tocIndex:19},{value:"\uFF0C\u5728\u5C4F\u5E55\u91CD\u65B0\u805A\u7126\u6216\u91CD\u65B0\u663E\u793A\u65F6\uFF0C\u4F1A\u91CD\u65B0\u53D1\u8D77\u8BF7\u6C42\u3002",paraId:9,tocIndex:19},{value:"boolean",paraId:9,tocIndex:19},{value:"false",paraId:9,tocIndex:19},{value:"focusTimespan",paraId:9,tocIndex:19},{value:"\u5C4F\u5E55\u91CD\u65B0\u805A\u7126\uFF0C\u91CD\u65B0\u53D1\u8D77\u8BF7\u6C42\u65F6\u95F4\u95F4\u9694\u3002\u9700\u8981\u914D\u7F6E ",paraId:9,tocIndex:19},{value:"refreshOnWindowFocus",paraId:9,tocIndex:19},{value:" \u4F7F\u7528\u3002",paraId:9,tocIndex:19},{value:"number",paraId:9,tocIndex:19},{value:"5000",paraId:9,tocIndex:19},{value:"debounceInterval",paraId:9,tocIndex:19},{value:"\u9632\u6296\u95F4\u9694\uFF0C\u5355\u4F4D\u4E3A\u6BEB\u79D2\uFF0C\u8BBE\u7F6E\u540E\uFF0C\u8BF7\u6C42\u8FDB\u5165\u9632\u6296\u6A21\u5F0F\u3002",paraId:9,tocIndex:19},{value:"number",paraId:9,tocIndex:19},{value:"-",paraId:9,tocIndex:19},{value:"throttleInterval",paraId:9,tocIndex:19},{value:"\u8282\u6D41\u95F4\u9694\uFF0C\u5355\u4F4D\u4E3A\u6BEB\u79D2\uFF0C\u8BBE\u7F6E\u540E\uFF0C\u8BF7\u6C42\u8FDB\u5165\u8282\u6D41\u6A21\u5F0F\u3002",paraId:9,tocIndex:19},{value:"number",paraId:9,tocIndex:19},{value:"-",paraId:9,tocIndex:19},{value:"\u6E05\u7406\u7F13\u5B58\u3002\u5982\u679C\u4E0D\u4F20\u53C2\u6570\uFF0C\u8868\u793A\u6E05\u7406\u5168\u90E8\u3002",paraId:10,tocIndex:20},{value:`import { clearCache } from 'rc-hooks';

clearCache(cacheKey?: string|string[]);
`,paraId:11,tocIndex:20},{value:"\u70B9\u51FB\u67E5\u770B useLoadMore",paraId:12},{value:"\u70B9\u51FB\u67E5\u770B usePagination",paraId:13}]},28009:function(c,t){t.Z=`import React, { useState } from 'react';
import { Button, Input, message } from 'antd';
import { useAsync } from 'rc-hooks';
import changeUsername from './services/changeUsername';

function Demo() {
  const [state, setState] = useState('');
  const { loading, run } = useAsync(changeUsername, {
    autoRun: false,
    onSuccess: (result, params) => {
      if (result.success) {
        setState('');
        message.success(\`The username was changed to "\${params[0]}" !\`);
      }
    }
  });

  return (
    <div>
      <Input
        onChange={(e) => setState(e.target.value)}
        value={state}
        placeholder="Please enter username"
        style={{ width: 240, marginRight: 16 }}
      />
      <Button onClick={() => run(state)} loading={loading}>
        Edit
      </Button>
    </div>
  );
}

export default Demo;
`},19566:function(c,t){t.Z=`import * as React from 'react';
import { sleep } from 'ut2';
import { useAsync } from 'rc-hooks';
import getArticle from './services/getArticle';

function Article() {
  const { data, loading, run } = useAsync(
    async () => {
      await sleep(3000);
      return getArticle();
    },
    {
      cacheKey: 'article'
    }
  );

  return (
    <div>
      <button onClick={run}>\u70B9\u51FB\u8BF7\u6C42</button>
      <p>Background loading: {loading ? 'true' : 'false'}</p>
      <p>Latest request time: {data?.time}</p>
      <p>{data?.data}</p>
    </div>
  );
}

function Demo() {
  return (
    <div>
      <Article />
      <br />
      <Article />
    </div>
  );
}

export default Demo;
`},46267:function(c,t){t.Z=`import * as React from 'react';
import { Button, Space } from 'antd';
import { useAsync, clearCache } from 'rc-hooks';
import getArticle from './services/getArticle';

const Article: React.FC<{ cacheKey: string }> = ({ cacheKey }) => {
  const { loading, data } = useAsync(getArticle, {
    cacheKey
  });

  return (
    <div>
      <h3>{cacheKey}</h3>
      {loading && !data ? (
        'Loading'
      ) : (
        <div>
          <p>Background loading: {loading ? 'true' : 'false'}</p>
          <p>Latest request time: {data?.time}</p>
          <p>{data?.data}</p>
        </div>
      )}
    </div>
  );
};

function Demo() {
  const [visible, setVisible] = React.useState(false);
  const articleCacheKey1 = 'Article1';
  const articleCacheKey2 = 'Article2';
  const articleCacheKey3 = 'Article3';

  return (
    <div>
      <div style={{ marginBottom: 10 }}>
        <Button type="primary" onClick={() => setVisible((s) => !s)}>
          \u663E\u793A/\u9690\u85CF
        </Button>
      </div>
      <Space>
        <Button onClick={() => clearCache(articleCacheKey1)}>Clear Article1</Button>
        <Button onClick={() => clearCache(articleCacheKey2)}>Clear Article2</Button>
        <Button onClick={() => clearCache([articleCacheKey2, articleCacheKey3])}>
          Clear Article2 and Article3
        </Button>
        <Button onClick={() => clearCache()}>Clear All</Button>
      </Space>
      {visible && (
        <div>
          <Article cacheKey={articleCacheKey1} />
          <Article cacheKey={articleCacheKey2} />
          <Article cacheKey={articleCacheKey3} />
        </div>
      )}
    </div>
  );
}

export default Demo;
`},28110:function(c,t){t.Z=`import React from 'react';
import { Select } from 'antd';
import { useAsync } from 'rc-hooks';
import getEmail from './services/getEmail';

const { Option } = Select;

function Demo() {
  const { data, loading, run, cancel } = useAsync(getEmail, {
    debounceInterval: 500,
    autoRun: false
  });

  return (
    <div>
      <p>Enter quickly to see the effect</p>
      <Select
        showSearch
        placeholder="Select Emails"
        filterOption={false}
        onSearch={run}
        onBlur={cancel}
        loading={loading}
        style={{ width: 300 }}
      >
        {data &&
          data.map((item) => (
            <Option key={item} value={item}>
              {item}
            </Option>
          ))}
      </Select>
    </div>
  );
}

export default Demo;
`},61499:function(c,t){t.Z=`import React from 'react';
import { useAsync } from 'rc-hooks';
import getUsername from './services/getUsername';

function Demo() {
  const { data, error, loading } = useAsync(getUsername);

  if (loading) {
    return <div>loading...</div>;
  }

  if (error) {
    return <div>failed to load</div>;
  }
  return <div>Username: {data}</div>;
}

export default Demo;
`},97304:function(c,t){t.Z=`import React from 'react';
import { Spin, Button } from 'antd';
import { useAsync } from 'rc-hooks';
import getCurrentTime from './services/getCurrentTime';

function Demo() {
  const getTimeAction = useAsync(getCurrentTime);

  const withLoadingDelayAction = useAsync(getCurrentTime, {
    loadingDelay: 1020
  });

  const trigger = () => {
    getTimeAction.run();
    withLoadingDelayAction.run();
  };

  return (
    <div>
      <p>
        loadingDelay can set delay loading, which can effectively prevent loading from flickering.
      </p>
      <Button onClick={trigger}>run</Button>

      <div style={{ margin: '24px 0', width: 300 }}>
        <Spin spinning={getTimeAction.loading}>Double Count: {getTimeAction.data}</Spin>
      </div>
      <div>
        <Spin spinning={withLoadingDelayAction.loading}>
          Double Count: {withLoadingDelayAction.data}
        </Spin>
      </div>
    </div>
  );
}

export default Demo;
`},19122:function(c,t){t.Z=`import React, { useState } from 'react';
import { Button, Input, message } from 'antd';
import { useAsync } from 'rc-hooks';
import getUsername from './services/getUsername';

function changeUsername(username: string) {
  console.log(username);
  return new Promise<{ success: boolean }>((resolve) => {
    setTimeout(() => {
      resolve({ success: true });
    }, 1000);
  });
}

function Demo() {
  const [state, setState] = useState('');
  const { data, mutate } = useAsync(getUsername, {
    onSuccess: (result) => {
      setState(result);
    }
  });
  const { loading, run } = useAsync(changeUsername, {
    autoRun: false,
    onSuccess: (result, params) => {
      if (result.success) {
        mutate(params[0]);
        message.success(\`The username was changed to "\${params[0]}" !\`);
      }
    }
  });

  return (
    <div>
      <p>usrename: {data}</p>
      <Input
        onChange={(e) => setState(e.target.value)}
        value={state}
        placeholder="Please enter username"
        style={{ width: 240, marginRight: 16 }}
      />
      <Button onClick={() => run(state)} loading={loading}>
        Edit
      </Button>
    </div>
  );
}

export default Demo;
`},76737:function(c,t){t.Z=`import React from 'react';
import { Button, message } from 'antd';
import { useAsync } from 'rc-hooks';
import deleteUser from './services/deleteUser';

const DeleteButton: React.FC<{ id: string; username: string }> = ({ id, username }) => {
  const { run, loading } = useAsync(deleteUser, {
    autoRun: false,
    onSuccess: (result) => {
      if (result.success) {
        message.success(\`Delete user \${username}\`);
      }
    }
  });

  return (
    <Button
      loading={loading}
      onClick={() => {
        run(id);
      }}
    >
      delete {username}
    </Button>
  );
};

function Demo() {
  const users = [
    { id: '1', username: 'A' },
    { id: '2', username: 'B' },
    { id: '3', username: 'C' }
  ];

  return (
    <div>
      <div>You can click all buttons, each request has its own status.</div>
      <ul>
        {users.map((user) => (
          <li key={user.id} style={{ marginTop: 8 }}>
            <DeleteButton {...user} />
          </li>
        ))}
      </ul>
    </div>
  );
}

export default Demo;
`},65388:function(c,t){t.Z=`import * as React from 'react';
import { Button, Spin } from 'antd';
import { useAsync } from 'rc-hooks';
import getArticle from './services/getArticle';

function Demo() {
  const { run, data, loading } = useAsync(getArticle, {
    cacheKey: 'persited-demo',
    cacheTime: 10 * 1000,
    persisted: true
  });

  return (
    <div>
      <p>
        10\u79D2\u5185\u518D\u6B21\u83B7\u53D6\uFF0C\u76F4\u63A5\u4ECE\u7F13\u5B58\u4E2D\u8BFB\u53D6\u6570\u636E\u3002\u5B9E\u9645\u9879\u76EE\u4E2D\u90E8\u5206\u6570\u636E\u53EF\u4EE5\u8BBE\u7F6E\u66F4\u957F\u7684\u7F13\u5B58\u65F6\u95F4\uFF0C\u4E0D\u9700\u8981\u6BCF\u6B21\u90FD\u53BB\u670D\u52A1\u7AEF\u83B7\u53D6\u3002
      </p>
      <p>
        <Button onClick={run}>\u83B7\u53D6\u6570\u636E</Button>
      </p>
      <Spin spinning={loading}>
        <p>Latest request time: {data?.time}</p>
        <p>{data?.data}</p>
      </Spin>
    </div>
  );
}

export default Demo;
`},98221:function(c,t){t.Z=`import React from 'react';
import { Button, Space, Spin } from 'antd';
import { useAsync } from 'rc-hooks';
import getUsername from './services/getUsername';

function Demo() {
  const { data, loading, run, cancel } = useAsync(getUsername, {
    pollingInterval: 1000,
    pollingWhenHidden: false
  });

  return (
    <>
      <Spin spinning={loading}>
        <p>Username: {data}</p>
      </Spin>
      <Space.Compact>
        <Button onClick={run}>start</Button>
        <Button onClick={cancel}>stop</Button>
      </Space.Compact>
    </>
  );
}

export default Demo;
`},68811:function(c,t){t.Z=`import React, { useState } from 'react';
import { Button, Spin } from 'antd';
import { useAsync } from 'rc-hooks';
import getArticle from './services/getArticle';

const Article = () => {
  const { data, loading } = useAsync(getArticle, {
    cacheKey: 'article'
  });
  return (
    <Spin spinning={!data && loading}>
      <p>Latest request time: {data?.time}</p>
      <p>{data?.data}</p>
    </Spin>
  );
};

function Demo() {
  const [visible, setVisible] = useState(false);
  const { run } = useAsync(getArticle, {
    cacheKey: 'article',
    autoRun: false
  });
  return (
    <div>
      <p>When the mouse hovers over the button, the article data is preloaded.</p>
      <p>
        <Button onMouseEnter={() => run()} onClick={() => setVisible((b) => !b)}>
          show/hidden
        </Button>
      </p>
      {visible && <Article />}
    </div>
  );
}

export default Demo;
`},32734:function(c,t){t.Z=`import { useAsync } from 'rc-hooks';
import React, { useState } from 'react';
import { Select } from 'antd';

const userSchool = (id: string) => {
  switch (id) {
    case '1':
      return 'Tsinghua University';
    case '2':
      return 'Beijing University';
    case '3':
      return 'Zhejiang University';
    default:
      return '';
  }
};

async function getUserSchool(userId: string) {
  return new Promise<string>((resolve) => {
    setTimeout(() => {
      resolve(userSchool(userId));
    }, 1000);
  });
}

function Demo() {
  const [userId, setUserId] = useState('1');
  const { data, loading } = useAsync(() => getUserSchool(userId), {
    refreshDeps: [userId]
  });

  return (
    <div>
      <Select
        onChange={(v) => setUserId(v)}
        value={userId}
        style={{ marginBottom: 16, width: 120 }}
      >
        <Select.Option value="1">user 1</Select.Option>
        <Select.Option value="2">user 2</Select.Option>
        <Select.Option value="3">user 3</Select.Option>
      </Select>
      <p>School: {loading ? 'loading' : data}</p>
    </div>
  );
}

export default Demo;
`},91268:function(c,t){t.Z=`import React from 'react';
import { Spin } from 'antd';
import { useAsync } from 'rc-hooks';
import getUsername from './services/getUsername';

function Demo() {
  const { data, loading } = useAsync(getUsername, {
    refreshOnWindowFocus: true
  });

  return (
    <div>
      <p>
        You can try to click elsewhere and click back to try. (Or hide the page and show it again)
      </p>
      <Spin spinning={loading}>
        <div>Username: {data}</div>
      </Spin>
    </div>
  );
}

export default Demo;
`},75533:function(c,t){t.Z=`import React from 'react';
import { Select } from 'antd';
import { useAsync } from 'rc-hooks';
import getEmail from './services/getEmail';

const { Option } = Select;

function Demo() {
  const { data, loading, run, cancel } = useAsync(getEmail, {
    throttleInterval: 1000,
    autoRun: false
  });

  return (
    <div>
      <p>Enter quickly to see the effect</p>
      <Select
        showSearch
        placeholder="Select Emails"
        filterOption={false}
        onSearch={run}
        onBlur={cancel}
        loading={loading}
        style={{ width: 300 }}
      >
        {data &&
          data.map((i) => (
            <Option key={i} value={i}>
              {i}
            </Option>
          ))}
      </Select>
    </div>
  );
}

export default Demo;
`},24603:function(c,t){t.Z=`import { sleep } from 'ut2';

export default async function changeUsername(username: string) {
  console.log(username);
  await sleep();
  return { success: true };
}
`},58263:function(c,t){t.Z=`import { sleep } from 'ut2';

export default async function deleteUser(userId: string) {
  console.log(userId);
  await sleep();
  return { success: true };
}
`},66390:function(c,t){t.Z=`import Mock from 'mockjs';
import { sleep } from 'ut2';

export default async function getArticle() {
  // console.log('getArticle ', Date.now());
  await sleep();
  return {
    data: Mock.mock('@paragraph') as string,
    time: new Date().getTime()
  };
}
`},63308:function(c,t){t.Z=`import { sleep } from 'ut2';

export default async function getCurrentTime() {
  await sleep();
  return new Date().getTime();
}
`},10263:function(c,t){t.Z=`import Mock from 'mockjs';
import { sleep } from 'ut2';

export default async function getEmail(search: string) {
  console.log(search);
  await sleep();
  return Mock.mock({ 'data|5': ['@email'] }).data as string[];
}
`},74409:function(c,t){t.Z=`import Mock from 'mockjs';
import { sleep } from 'ut2';

export default async function getUsername() {
  await sleep();
  return Mock.mock('@name') as string;
}
`}}]);
