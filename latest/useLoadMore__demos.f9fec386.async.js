"use strict";(self.webpackChunkrc_hooks=self.webpackChunkrc_hooks||[]).push([[2865],{26714:function(A,h,e){e.r(h);var j=e(75271),m=e(95548),L=e(71930),R=e(97733),I=e(35312),l=e(51738),s=e(56344),u=e(52676);function t(){var r=(0,l.Z)(function(i){var n=i.current;return(0,s.default)({current:n}).then(function(a){return{total:a.total,list:a.data}})},{isNoMore:function(n){return!!n&&n.list.length>=n.total}}),f=r.data,d=r.loading,D=r.loadingMore,v=r.noMore,c=r.loadMore;return(0,u.jsxs)("div",{children:[(0,u.jsx)(m.Z,{spinning:d&&!D,children:(0,u.jsx)(L.Z,{dataSource:f==null?void 0:f.list,renderItem:function(n){return(0,u.jsxs)(L.Z.Item,{children:[(0,u.jsxs)(R.Z.Text,{mark:!0,children:["[",n.id,"]"]})," ",n.name]},n.id)}})}),(0,u.jsx)(I.ZP,{onClick:c,loading:D,disabled:v||d,children:v?"No more data":"Click to load more"})]})}h.default=t},29851:function(A,h,e){e.r(h);var j=e(35312),m=e(71930),L=e(75271),R=e(51738),I=e(56344),l=e(52676);function s(){var u=(0,L.useRef)(null),t=(0,R.Z)(function(n){var a=n.current;return(0,I.default)({current:a,pageSize:3}).then(function(E){return{total:E.total,list:E.data}})},{target:function(){return u.current},isNoMore:function(a){return!!a&&a.list.length>=a.total}}),r=t.data,f=t.loading,d=t.loadingMore,D=t.refresh,v=t.loadMore,c=t.noMore,i=function(){return(0,l.jsxs)("div",{style:{overflow:"hidden"},children:[!c&&(r==null?void 0:r.list)&&r.list.length>0&&(0,l.jsx)(j.ZP,{onClick:v,loading:d,children:d?"Loading more":"Click to load more"}),c&&(0,l.jsx)("span",{children:"No more data"}),(0,l.jsx)("span",{style:{float:"right",fontSize:12},children:f&&(!r||r.list.length===0)?"":"total: ".concat(r==null?void 0:r.total)})]})};return(0,l.jsx)("div",{ref:u,style:{height:300,overflowY:"auto"},children:(0,l.jsx)(m.Z,{header:(0,l.jsx)(j.ZP,{onClick:D,loading:f,children:f?"loading":"Reload"}),footer:i(),loading:f&&!d,bordered:!0,dataSource:r==null?void 0:r.list,renderItem:function(a){return(0,l.jsx)(m.Z.Item,{children:(0,l.jsx)(m.Z.Item.Meta,{title:(0,l.jsx)("a",{children:a.name}),description:"rc-hooks is a react hooks library"})})}})})}h.default=s},79383:function(A,h,e){e.r(h);var j=e(90228),m=e.n(j),L=e(87999),R=e.n(L),I=e(35312),l=e(71930),s=e(75271),u=e(51738),t=e(52676),r=["0","1","2","3","4","5","6","7","8","9"];function f(v,c){return d.apply(this,arguments)}function d(){return d=R()(m()().mark(function v(c,i){var n,a,E,g;return m()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=0,c&&(n=r.findIndex(function(P){return P===c})),a=n+i,E=r.slice(n,a).map(function(P){return{id:P,name:"project ".concat(P," (server time: ").concat(Date.now(),")")}}),g=r.length>=a?r[a]:void 0,o.abrupt("return",new Promise(function(P){setTimeout(function(){P({list:E,nextId:g})},1e3)}));case 6:case"end":return o.stop()}},v)})),d.apply(this,arguments)}function D(){var v=(0,s.useRef)(null),c=(0,s.useRef)(void 0),i=(0,u.Z)(function(O){var M,T=O.current;return f(T===1||(M=c.current)===null||M===void 0?void 0:M.nextId,3)},{target:function(){return v.current},isNoMore:function(M){return!(M!=null&&M.nextId)},onSuccess:function(M){c.current=M}}),n=i.data,a=i.loading,E=i.loadingMore,g=i.refresh,_=i.loadMore,o=i.noMore,P=function(){return(0,t.jsxs)("div",{children:[!o&&(n==null?void 0:n.list)&&n.list.length>0&&(0,t.jsx)(I.ZP,{onClick:_,loading:E,children:E?"Loading more":"Click to load more"}),o&&(0,t.jsx)("span",{children:"No more data"})]})};return(0,t.jsx)("div",{ref:v,style:{height:300,overflowY:"auto"},children:(0,t.jsx)(l.Z,{header:(0,t.jsx)(I.ZP,{onClick:g,loading:a,children:a?"loading":"Reload"}),footer:P(),loading:a&&!E,bordered:!0,dataSource:n==null?void 0:n.list,renderItem:function(M){return(0,t.jsx)(l.Z.Item,{children:(0,t.jsx)(l.Z.Item.Meta,{title:(0,t.jsx)("a",{children:M.name})})})}})})}h.default=D},12652:function(A,h,e){e.r(h);var j=e(48305),m=e.n(j),L=e(75271),R=e(65726),I=e(51738),l=e(43522),s=e(52676),u=[{name:"\u7EFC\u5408",value:1},{name:"\u9500\u91CF",value:2},{name:"\u4EF7\u683C",value:3}],t=3;function r(){var f=L.useState(""),d=m()(f,2),D=d[0],v=d[1],c=L.useState(u[0].value),i=m()(c,2),n=i[0],a=i[1],E=(0,R.Z)(D,500),g=L.useRef(null),_=(0,I.Z)(function(C){var x=C.current;return(0,l.default)({pageNum:x,pageSize:t,keyword:E,order:n}).then(function(U){return{list:U.list,prevListLen:U.list.length}})},{target:function(){return g.current},isNoMore:function(x){return!!(x!=null&&x.prevListLen)&&x.prevListLen<t},refreshDeps:[E,n]}),o=_.data,P=_.loadMore,O=_.noMore,M=_.loading,T=_.loadingMore;return(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u8BCD",value:D,onChange:function(x){return v(x.target.value)}}),(0,s.jsx)("div",{className:"orderList",children:u.map(function(C){return(0,s.jsx)("a",{style:n===C.value?{color:"red"}:{},onClick:function(){a(C.value)},children:C.name},C.value)})}),(0,s.jsxs)("div",{style:{height:150,overflowY:"auto"},ref:g,children:[M&&!T&&"\u641C\u7D22\u4E2D...",O&&!M&&(o==null?void 0:o.list)&&o.list.length<=0&&"\u6CA1\u6709\u627E\u5230 \u201C".concat(E,"\u201D \u76F8\u5173\u6570\u636E"),(o==null?void 0:o.list)&&o.list.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("ol",{children:o.list.map(function(C){return(0,s.jsx)("li",{children:C.text},C.text)})}),!O&&(0,s.jsx)("button",{onClick:P,disabled:T,children:T?"\u6B63\u5728\u52A0\u8F7D...":"\u70B9\u51FB\u52A0\u8F7D\u66F4\u591A"}),O&&!T&&"\u6CA1\u6709\u66F4\u591A\u6570\u636E"]})]})]})}h.default=r},43148:function(A,h,e){e.r(h);var j=e(26068),m=e.n(j),L=e(75271),R=e(95548),I=e(71930),l=e(97733),s=e(35312),u=e(51738),t=e(56344),r=e(52676);function f(){var d=(0,u.Z)(function(g){var _=g.current;return(0,t.default)({current:_}).then(function(o){return{total:o.total,list:o.data}})},{isNoMore:function(_){return!!_&&_.list.length>=_.total}}),D=d.data,v=d.loading,c=d.loadingMore,i=d.noMore,n=d.loadMore,a=d.mutate,E=function(_){a(function(o){var P=o.list.findIndex(function(M){return M.id===_}),O=o.list.slice();return O.splice(P,1),P!==-1?m()(m()({},o),{},{total:o.total-1,list:O}):o})};return(0,r.jsxs)("div",{children:[(0,r.jsx)(R.Z,{spinning:v&&!c,children:(0,r.jsx)(I.Z,{dataSource:D==null?void 0:D.list,renderItem:function(_){return(0,r.jsxs)(I.Z.Item,{actions:[(0,r.jsx)("a",{onClick:function(){return E(_.id)},children:"\u5220\u9664"},"delete")],children:[(0,r.jsxs)(l.Z.Text,{mark:!0,children:["[",_.id,"]"]})," ",_.name]},_.id)}})}),(0,r.jsx)(s.ZP,{onClick:n,loading:c,disabled:i||v,children:i?"No more data":"Click to load more"})]})}h.default=f}}]);
